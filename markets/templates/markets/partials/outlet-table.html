{% load cache %}
{% cache 300 market_detail_outlet_table hash %}
    <div class="mkdetails-tp-section-info-main">
        <table class="table-tp table-bordered" id="mkdetails-tp-table">
            <thead>
                <tr><th colspan="5">{{title | default:"Без названия"}}</th></tr>
                <tr>
                    <th class="sort-th sort-asc">Номер</th>
                    <th class="sort-th sort-desc">Специализация</th>
                    <th class="sort-th sort-asc">Занятость</th>
                    <th class="sort-th sort-desc">Цена аренды</th>
                </tr>
            </thead>
            <tbody>
            {% for tp in outlets %}
            <tr onclick="window.dispatchEvent(new CustomEvent('outlet_clicked', { detail: { id: '{{tp.number}}' }}));" class="table-tp-row">
                <td><div style="color:{{tp.color_css}}">{{tp.number}}</div></td>
                <td>{{tp.specialization}}</td>
                <td>{{tp.occupation}}</td>
                <td>{{tp.price}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endcache %}